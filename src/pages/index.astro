---
import MainLayout from '../layouts/MainLayout.astro'

const res = await fetch('https://syntax.fm/api/shows')
const shows = await res.json()
---

<MainLayout>
  <h2>Syntax Episodes</h2>
    <ul>
        {shows.map(show => (
            <li>
                <a href={`/shows/${show.number}`}>
                    #{show.number} - {show.title}
                </a>
            </li>
        ))}
    </ul>
</MainLayout>